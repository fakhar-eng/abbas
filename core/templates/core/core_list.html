<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django Project - Image Editor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .navbar {
            background-color: #3b5998;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        .card-img-container {
            position: relative;
            height: 250px;
            overflow: hidden;
        }
        .image-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .card:hover .image-overlay {
            opacity: 1;
        }
        .object-fit-cover {
            object-fit: cover;
            height: 100%;
            width: 100%;
        }
        .btn-primary {
            background-color: #3b5998;
            border-color: #3b5998;
        }
        .btn-primary:hover {
            background-color: #2d4373;
            border-color: #2d4373;
        }
        .pagination .page-item.active .page-link {
            background-color: #3b5998;
            border-color: #3b5998;
        }
        .footer {
            background-color: #3b5998;
            color: white;
        }
        .image-overlay .btn {
            padding: 6px 10px;
            font-size: 0.85rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .preview-container {
            width: 100%;
            height: 200px;
            border: 2px dashed #ccc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .preview-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        .edit-icon {
            cursor: pointer;
        }
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1050;
        }
        .deleting {
            opacity: 0.6;
            pointer-events: none;
        }
        .empty-state {
            display: none;
            text-align: center;
            padding: 40px 0;
        }
        .empty-state i {
            font-size: 4rem;
            color: #6c757d;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Toast Notification Container -->
    <div class="toast-container"></div>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fab fa-django me-2"></i>Django Project
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="fas fa-home me-1"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#createModal"><i class="fas fa-plus-circle me-1"></i> Create Entry</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-user me-1"></i> Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-sign-out-alt me-1"></i> Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container py-5">
        <h1 class="text-center my-4">Welcome to Django Project</h1>
        
        <!-- Search Bar -->
        <div class="row justify-content-center mb-4">
            <div class="col-md-6">
                <form method="GET" action="" class="d-flex">
                    <input type="text" name="q" class="form-control me-2" placeholder="Search entries..." value="">
                    <button type="submit" class="btn btn-outline-primary">Search</button>
                </form>
            </div>
        </div>
        
        <!-- Filter Options -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="btn-group" role="group">
                    <a href="?sort=newest" class="btn btn-outline-secondary">Newest</a>
                    <a href="?sort=oldest" class="btn btn-outline-secondary">Oldest</a>
                    <a href="?sort=user" class="btn btn-outline-secondary">By User</a>
                </div>
            </div>
        </div>
        
        <button class="btn btn-primary mb-4" data-bs-toggle="modal" data-bs-target="#createModal">
            <i class="fas fa-plus"></i> Create New Entry
        </button>
        
        <!-- Empty State (shown when no entries exist) -->
        <div class="empty-state" id="empty-state">
            <i class="fas fa-inbox"></i>
            <h3 class="text-muted">No blog posts found</h3>
            <p class="text-muted">Click the "Create New Entry" button to add a new blog post.</p>
        </div>
        
        <div class="row" id="blog-container">
            <!-- Blog Entry 1 -->
            <div class="col-lg-4 col-md-6 mb-4" id="blog-1">
                <div class="card h-100 shadow-sm">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="object-fit-cover" alt="John Doe" id="blog-image-1">
                        <div class="image-overlay">
                            <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="1">
                                <i class="fas fa-edit"></i> Update Blog
                            </button>
                            <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="1">
                                <i class="fas fa-trash"></i> Delete Blog
                            </button>
                            <a href="https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" target="_blank" class="btn btn-sm btn-light">
                                <i class="fas fa-expand"></i> View Full
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="card-title mb-0" id="blog-title-1">John Doe</h5>
                            <span class="badge bg-secondary">Jun 15, 2023</span>
                        </div>
                        
                        <p class="card-text flex-grow-1">Exploring the beautiful mountains of Pakistan. The northern areas offer some of the most breathtaking views I've ever seen in my life. Everyone should visit at least once.</p>
                        
                        <div class="mt-auto">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-clock"></i> 2 days ago
                                </small>
                                <small class="text-muted">
                                    <i class="fas fa-edit"></i> Edited
                                </small>
                            </div>
                            
                            <div class="btn-group w-100" role="group">
                                <button class="btn btn-outline-primary edit-icon" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="1">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="1">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#detailModal1">
                                    <i class="fas fa-info-circle"></i> Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Blog Entry 2 -->
            <div class="col-lg-4 col-md-6 mb-4" id="blog-2">
                <div class="card h-100 shadow-sm">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="object-fit-cover" alt="Sarah Ahmed" id="blog-image-2">
                        <div class="image-overlay">
                            <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="2">
                                <i class="fas fa-edit"></i> Update Blog
                            </button>
                            <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="2">
                                <i class="fas fa-trash"></i> Delete Blog
                            </button>
                            <a href="https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" target="_blank" class="btn btn-sm btn-light">
                                <i class="fas fa-expand"></i> View Full
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="card-title mb-0" id="blog-title-2">Sarah Ahmed</h5>
                            <span class="badge bg-secondary">Jun 12, 2023</span>
                        </div>
                        
                        <p class="card-text flex-grow-1">The future of technology is here! AI is transforming how we live and work. In this post, I explore the latest developments in machine learning and their implications.</p>
                        
                        <div class="mt-auto">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-clock"></i> 5 days ago
                                </small>
                            </div>
                            
                            <div class="btn-group w-100" role="group">
                                <button class="btn btn-outline-primary edit-icon" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="2">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="2">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#detailModal2">
                                    <i class="fas fa-info-circle"></i> Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Blog Entry 3 -->
            <div class="col-lg-4 col-md-6 mb-4" id="blog-3">
                <div class="card h-100 shadow-sm">
                    <div class="card-img-container">
                        <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwa90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" class="object-fit-cover" alt="Ali Khan" id="blog-image-3">
                        <div class="image-overlay">
                            <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="3">
                                <i class="fas fa-edit"></i> Update Blog
                            </button>
                            <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="3">
                                <i class="fas fa-trash"></i> Delete Blog
                            </button>
                            <a href="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwa90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" target="_blank" class="btn btn-sm btn-light">
                                <i class="fas fa-expand"></i> View Full
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="card-title mb-0" id="blog-title-3">Ali Khan</h5>
                            <span class="badge bg-secondary">Jun 10, 2023</span>
                        </div>
                        
                        <p class="card-text flex-grow-1">Food is the way to my heart! Here's my recipe for the perfect biryani that will make your taste buds dance with joy. Don't forget the raita!</p>
                        
                        <div class="mt-auto">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-clock"></i> 1 week ago
                                </small>
                                <small class="text-muted">
                                    <i class="fas fa-edit"></i> Edited
                                </small>
                            </div>
                            
                            <div class="btn-group w-100" role="group">
                                <button class="btn btn-outline-primary edit-icon" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="3">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="3">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#detailModal3">
                                    <i class="fas fa-info-circle"></i> Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pagination -->
        <nav aria-label="Page navigation" class="mt-4">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#">Previous</a>
                </li>
                <li class="page-item active">
                    <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#">Next</a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- Create New Entry Modal -->
    <div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createModalLabel">Create New Blog Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="createForm">
                        <div class="mb-3">
                            <label for="newBlogTitle" class="form-label">Blog Title</label>
                            <input type="text" class="form-control" id="newBlogTitle" placeholder="Enter blog title" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="newBlogAuthor" class="form-label">Author Name</label>
                            <input type="text" class="form-control" id="newBlogAuthor" placeholder="Enter author name" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="newBlogImage" class="form-label">Blog Image</label>
                            <input class="form-control" type="file" id="newBlogImage" accept="image/*">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Image Preview</label>
                            <div class="preview-container">
                                <img id="newImagePreview" src="" alt="Preview">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="newImageUrl" class="form-label">Or enter image URL</label>
                            <input type="url" class="form-control" id="newImageUrl" placeholder="https://example.com/image.jpg">
                        </div>
                        
                        <div class="mb-3">
                            <label for="newBlogContent" class="form-label">Blog Content</label>
                            <textarea class="form-control" id="newBlogContent" rows="4" placeholder="Enter blog content" required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="createNewEntry">Create Entry</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Edit Blog Post</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <input type="hidden" id="blogId">
                        
                        <div class="mb-3">
                            <label for="blogTitle" class="form-label">Blog Title</label>
                            <input type="text" class="form-control" id="blogTitle" placeholder="Enter blog title">
                        </div>
                        
                        <div class="mb-3">
                            <label for="blogImage" class="form-label">Blog Image</label>
                            <input class="form-control" type="file" id="blogImage" accept="image/*">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Image Preview</label>
                            <div class="preview-container">
                                <img id="imagePreview" src="" alt="Preview">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="imageUrl" class="form-label">Or enter image URL</label>
                            <input type="url" class="form-control" id="imageUrl" placeholder="https://example.com/image.jpg">
                        </div>
                        
                        <div class="mb-3">
                            <label for="blogContent" class="form-label">Blog Content</label>
                            <textarea class="form-control" id="blogContent" rows="4" placeholder="Enter blog content"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveChanges">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this blog post?</p>
                    <div class="alert alert-warning">
                        <strong>Warning:</strong> This action cannot be undone.
                    </div>
                    <div class="mb-3">
                        <label for="confirmDelete" class="form-label">Type "DELETE" to confirm</label>
                        <input type="text" class="form-control" id="confirmDelete" placeholder="Type DELETE here">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn" disabled>Delete Permanently</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Django Project</h5>
                    <p>A simple content management system built with Django.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">Â© 2023 Django Project. All rights reserved.</p>
                    <p class="mb-0">
                        <a href="#" class="text-white me-2">Terms of Service</a>
                        <a href="#" class="text-white me-2">Privacy Policy</a>
                        <a href="#" class="text-white">Contact</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Initialize the edit modal
        const editModal = document.getElementById('editModal');
        editModal.addEventListener('show.bs.modal', function (event) {
            // Button that triggered the modal
            const button = event.relatedTarget;
            // Extract info from data-blog-id attribute
            const blogId = button.getAttribute('data-blog-id');
            
            // Update the modal's content
            const modalTitle = editModal.querySelector('.modal-title');
            
            // Set current values
            const currentTitle = document.getElementById('blog-title-' + blogId).textContent;
            const currentImage = document.getElementById('blog-image-' + blogId).src;
            const currentContent = document.querySelector('#blog-' + blogId + ' .card-text').textContent;
            
            document.getElementById('blogTitle').value = currentTitle;
            document.getElementById('imageUrl').value = currentImage;
            document.getElementById('imagePreview').src = currentImage;
            document.getElementById('blogContent').value = currentContent;
            document.getElementById('blogId').value = blogId;
            
            modalTitle.textContent = 'Edit Blog Post #' + blogId;
        });
        
        // Initialize the delete modal
        const deleteModal = document.getElementById('deleteModal');
        let currentBlogIdToDelete = null;
        
        deleteModal.addEventListener('show.bs.modal', function (event) {
            // Button that triggered the modal
            const button = event.relatedTarget;
            // Extract info from data-blog-id attribute
            currentBlogIdToDelete = button.getAttribute('data-blog-id');
            
            // Reset confirmation input
            document.getElementById('confirmDelete').value = '';
            document.getElementById('confirmDeleteBtn').disabled = true;
        });
        
        // Handle image preview from file input
        document.getElementById('blogImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('imagePreview').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });
        
        // Handle image preview from URL input
        document.getElementById('imageUrl').addEventListener('change', function(e) {
            const url = e.target.value;
            if (url) {
                document.getElementById('imagePreview').src = url;
            }
        });
        
        // Handle image preview for create modal
        document.getElementById('newBlogImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('newImagePreview').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });
        
        // Handle image preview from URL input for create modal
        document.getElementById('newImageUrl').addEventListener('change', function(e) {
            const url = e.target.value;
            if (url) {
                document.getElementById('newImagePreview').src = url;
            }
        });
        
        // Enable delete button only when user types "DELETE"
        document.getElementById('confirmDelete').addEventListener('input', function(e) {
            document.getElementById('confirmDeleteBtn').disabled = e.target.value !== 'DELETE';
        });
        
        // Save changes
        document.getElementById('saveChanges').addEventListener('click', function() {
            const blogId = document.getElementById('blogId').value;
            const newTitle = document.getElementById('blogTitle').value;
            const newImage = document.getElementById('imagePreview').src;
            const newContent = document.getElementById('blogContent').value;
            
            // Update the blog post
            document.getElementById('blog-title-' + blogId).textContent = newTitle;
            document.getElementById('blog-image-' + blogId).src = newImage;
            document.querySelector('#blog-' + blogId + ' .card-text').textContent = newContent;
            
            // Add edited indicator
            const editedIndicator = document.createElement('small');
            editedIndicator.className = 'text-muted';
            editedIndicator.innerHTML = '<i class="fas fa-edit"></i> Edited';
            
            const dateInfo = document.querySelector('#blog-' + blogId + ' .mt-auto .d-flex');
            if (!dateInfo.querySelector('.text-muted:last-child i.fa-edit')) {
                dateInfo.appendChild(editedIndicator);
            }
            
            // Close the modal
            const modal = bootstrap.Modal.getInstance(editModal);
            modal.hide();
            
            // Show success message
            showToast('Blog post updated successfully!', 'success');
        });
        
        // Handle delete confirmation
        document.getElementById('confirmDeleteBtn').addEventListener('click', function() {
            if (currentBlogIdToDelete) {
                // Add deleting class for visual feedback
                const blogElement = document.getElementById('blog-' + currentBlogIdToDelete);
                blogElement.classList.add('deleting');
                
                // Simulate API call delay
                setTimeout(function() {
                    // Remove the blog post
                    blogElement.remove();
                    
                    // Close the modal
                    const modal = bootstrap.Modal.getInstance(deleteModal);
                    modal.hide();
                    
                    // Show success message
                    showToast('Blog post deleted successfully!', 'success');
                    
                    // Check if no blogs left
                    checkEmptyState();
                }, 1000);
            }
        });
        
        // Create new entry
        document.getElementById('createNewEntry').addEventListener('click', function() {
            const title = document.getElementById('newBlogTitle').value;
            const author = document.getElementById('newBlogAuthor').value;
            const content = document.getElementById('newBlogContent').value;
            const imageSrc = document.getElementById('newImagePreview').src || 'https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80';
            
            if (!title || !author || !content) {
                showToast('Please fill in all required fields', 'danger');
                return;
            }
            
            // Generate a new ID
            const blogContainer = document.getElementById('blog-container');
            const existingBlogs = blogContainer.querySelectorAll('.col-lg-4');
            const newId = existingBlogs.length + 1;
            
            // Create date string
            const date = new Date();
            const dateString = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            
            // Create the new blog element
            const newBlog = document.createElement('div');
            newBlog.className = 'col-lg-4 col-md-6 mb-4';
            newBlog.id = 'blog-' + newId;
            
            newBlog.innerHTML = `
                <div class="card h-100 shadow-sm">
                    <div class="card-img-container">
                        <img src="${imageSrc}" class="object-fit-cover" alt="${author}" id="blog-image-${newId}">
                        <div class="image-overlay">
                            <button class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="${newId}">
                                <i class="fas fa-edit"></i> Update Blog
                            </button>
                            <button class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="${newId}">
                                <i class="fas fa-trash"></i> Delete Blog
                            </button>
                            <a href="${imageSrc}" target="_blank" class="btn btn-sm btn-light">
                                <i class="fas fa-expand"></i> View Full
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-body d-flex flex-column">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h5 class="card-title mb-0" id="blog-title-${newId}">${author}</h5>
                            <span class="badge bg-secondary">${dateString}</span>
                        </div>
                        
                        <p class="card-text flex-grow-1">${content}</p>
                        
                        <div class="mt-auto">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <small class="text-muted">
                                    <i class="fas fa-clock"></i> Just now
                                </small>
                            </div>
                            
                            <div class="btn-group w-100" role="group">
                                <button class="btn btn-outline-primary edit-icon" data-bs-toggle="modal" data-bs-target="#editModal" data-blog-id="${newId}">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" data-blog-id="${newId}">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                                <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#detailModal${newId}">
                                    <i class="fas fa-info-circle"></i> Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add to the container
            blogContainer.appendChild(newBlog);
            
            // Hide empty state if shown
            document.getElementById('empty-state').style.display = 'none';
            
            // Close the modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('createModal'));
            modal.hide();
            
            // Reset the form
            document.getElementById('createForm').reset();
            document.getElementById('newImagePreview').src = '';
            
            // Show success message
            showToast('New blog post created successfully!', 'success');
        });
        
        // Function to show toast notifications
        function showToast(message, type = 'info') {
            const toastContainer = document.querySelector('.toast-container');
            const toastId = 'toast-' + Date.now();
            
            const toast = document.createElement('div');
            toast.className = `toast align-items-center text-bg-${type} border-0`;
            toast.setAttribute('role', 'alert');
            toast.setAttribute('aria-live', 'assertive');
            toast.setAttribute('aria-atomic', 'true');
            toast.id = toastId;
            
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        ${message}
                    </